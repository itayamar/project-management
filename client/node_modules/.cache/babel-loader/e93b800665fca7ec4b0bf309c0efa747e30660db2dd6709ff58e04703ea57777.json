{"ast":null,"code":"// projects store\nimport Vue from \"vue\";\nimport { fetchProjects } from \"@/services/projects\";\nexport default {\n  state: {\n    projects: [],\n    currentProject: null,\n    totalProjects: 0\n  },\n  mutations: {\n    SET_PROJECTS(state, projects) {\n      state.projects = projects;\n    },\n    SET_TOTAL_PROJECTS(state, totalProjects) {\n      state.totalProjects = totalProjects;\n    },\n    UPDATE_PROJECT(state, updatedProject) {\n      const index = state.projects.findIndex(p => p._id === updatedProject._id);\n      if (index !== -1) {\n        Vue.set(state.projects, index, updatedProject);\n      }\n    },\n    REMOVE_PROJECT(state, projectId) {\n      state.projects = state.projects.filter(p => p._id !== projectId);\n    }\n  },\n  actions: {\n    async fetchProjects({\n      commit\n    }, {\n      total = 1\n    }) {\n      try {\n        commit('SET_LOADING', {\n          type: 'projects',\n          value: true\n        });\n        commit('SET_ERROR', null);\n        const projectsData = await fetchProjects();\n        commit('SET_PROJECTS', projectsData.projects);\n        commit('SET_TOTAL_PROJECTS', projectsData.total);\n      } catch (error) {\n        commit('SET_ERROR', error.message);\n      } finally {\n        commit('SET_LOADING', {\n          type: 'projects',\n          value: false\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["Vue","fetchProjects","state","projects","currentProject","totalProjects","mutations","SET_PROJECTS","SET_TOTAL_PROJECTS","UPDATE_PROJECT","updatedProject","index","findIndex","p","_id","set","REMOVE_PROJECT","projectId","filter","actions","commit","total","type","value","projectsData","error","message"],"sources":["/Users/itayamar/WebstormProjects/toka/client/src/views/projects/projects.js"],"sourcesContent":["// projects store\nimport Vue from \"vue\";\nimport {fetchProjects} from \"@/services/projects\";\n\nexport default {\n  state: {\n    projects: [],\n    currentProject: null,\n    totalProjects: 0,\n  },\n  mutations: {\n    SET_PROJECTS(state, projects) {\n      state.projects = projects;\n    },\n    SET_TOTAL_PROJECTS(state, totalProjects) {\n      state.totalProjects = totalProjects;\n    },\n    UPDATE_PROJECT(state, updatedProject) {\n      const index = state.projects.findIndex(p => p._id === updatedProject._id)\n      if (index !== -1) {\n        Vue.set(state.projects, index, updatedProject)\n      }\n    },\n    REMOVE_PROJECT(state, projectId) {\n      state.projects = state.projects.filter(p => p._id !== projectId)\n    }\n  },\n  actions: {\n    async fetchProjects({ commit }, {total=1, }) {\n      try {\n        commit('SET_LOADING', { type: 'projects', value: true })\n        commit('SET_ERROR', null)\n\n        const projectsData = await fetchProjects()\n        commit('SET_PROJECTS', projectsData.projects)\n        commit('SET_TOTAL_PROJECTS', projectsData.total)\n      } catch (error) {\n        commit('SET_ERROR', error.message)\n      } finally {\n        commit('SET_LOADING', { type: 'projects', value: false })\n      }\n    },\n  },\n\n};\n"],"mappings":"AAAA;AACA,OAAOA,GAAG,MAAM,KAAK;AACrB,SAAQC,aAAa,QAAO,qBAAqB;AAEjD,eAAe;EACbC,KAAK,EAAE;IACLC,QAAQ,EAAE,EAAE;IACZC,cAAc,EAAE,IAAI;IACpBC,aAAa,EAAE;EACjB,CAAC;EACDC,SAAS,EAAE;IACTC,YAAYA,CAACL,KAAK,EAAEC,QAAQ,EAAE;MAC5BD,KAAK,CAACC,QAAQ,GAAGA,QAAQ;IAC3B,CAAC;IACDK,kBAAkBA,CAACN,KAAK,EAAEG,aAAa,EAAE;MACvCH,KAAK,CAACG,aAAa,GAAGA,aAAa;IACrC,CAAC;IACDI,cAAcA,CAACP,KAAK,EAAEQ,cAAc,EAAE;MACpC,MAAMC,KAAK,GAAGT,KAAK,CAACC,QAAQ,CAACS,SAAS,CAACC,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAKJ,cAAc,CAACI,GAAG,CAAC;MACzE,IAAIH,KAAK,KAAK,CAAC,CAAC,EAAE;QAChBX,GAAG,CAACe,GAAG,CAACb,KAAK,CAACC,QAAQ,EAAEQ,KAAK,EAAED,cAAc,CAAC;MAChD;IACF,CAAC;IACDM,cAAcA,CAACd,KAAK,EAAEe,SAAS,EAAE;MAC/Bf,KAAK,CAACC,QAAQ,GAAGD,KAAK,CAACC,QAAQ,CAACe,MAAM,CAACL,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAKG,SAAS,CAAC;IAClE;EACF,CAAC;EACDE,OAAO,EAAE;IACP,MAAMlB,aAAaA,CAAC;MAAEmB;IAAO,CAAC,EAAE;MAACC,KAAK,GAAC;IAAG,CAAC,EAAE;MAC3C,IAAI;QACFD,MAAM,CAAC,aAAa,EAAE;UAAEE,IAAI,EAAE,UAAU;UAAEC,KAAK,EAAE;QAAK,CAAC,CAAC;QACxDH,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC;QAEzB,MAAMI,YAAY,GAAG,MAAMvB,aAAa,CAAC,CAAC;QAC1CmB,MAAM,CAAC,cAAc,EAAEI,YAAY,CAACrB,QAAQ,CAAC;QAC7CiB,MAAM,CAAC,oBAAoB,EAAEI,YAAY,CAACH,KAAK,CAAC;MAClD,CAAC,CAAC,OAAOI,KAAK,EAAE;QACdL,MAAM,CAAC,WAAW,EAAEK,KAAK,CAACC,OAAO,CAAC;MACpC,CAAC,SAAS;QACRN,MAAM,CAAC,aAAa,EAAE;UAAEE,IAAI,EAAE,UAAU;UAAEC,KAAK,EAAE;QAAM,CAAC,CAAC;MAC3D;IACF;EACF;AAEF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}